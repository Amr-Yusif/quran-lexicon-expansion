# دليل المساهمة في مشروع تحليل النصوص القرآنية والإسلامية

شكراً لاهتمامك بالمساهمة في مشروعنا! هذا الدليل يوضح كيفية المساهمة في تطوير هذا المشروع وتحسينه.

## كيفية المساهمة

### الإبلاغ عن الأخطاء

إذا وجدت خطأً في المشروع، يرجى إنشاء تقرير مشكلة (Issue) يتضمن:

- وصف مختصر وواضح للمشكلة
- خطوات إعادة إنتاج المشكلة
- السلوك المتوقع والسلوك الفعلي
- لقطات شاشة إن أمكن

### اقتراح تحسينات

يمكنك اقتراح تحسينات من خلال:

- إنشاء تقرير مشكلة (Issue) يصف التحسين المقترح
- شرح كيف سيفيد هذا التحسين المشروع والمستخدمين

### إرسال تغييرات برمجية

1. انسخ المستودع (Fork)
2. أنشئ فرعاً جديداً (Branch) للميزة أو الإصلاح
3. قم بالتغييرات اللازمة
4. تأكد من اجتياز الاختبارات
5. أرسل طلب سحب (Pull Request)

## معايير الكود

### أسلوب الكود

- استخدم PEP 8 لكود Python
- اكتب تعليقات توثيقية لجميع الدوال والفئات
- استخدم أسماء وصفية للمتغيرات والدوال

### الاختبارات

- أضف اختبارات لجميع الميزات الجديدة باستخدام pytest
- استخدم Fixtures لإعداد بيانات مشتركة بين الاختبارات
- استخدم Parametrization لتشغيل نفس الاختبار ببيانات مختلفة
- تأكد من أن جميع الاختبارات تجتاز قبل إرسال طلب السحب
- شغل الاختبارات بانتظام بعد كل تعديل في الكود
- راجع ملف tests/README.md للحصول على تفاصيل حول منهجية الاختبار المتبعة

## المساهمة في نظام الوكلاء المتعددين

### هيكل نظام الوكلاء

يتكون نظام الوكلاء المتعددين من المكونات الرئيسية التالية:

1. **الفئة الأساسية للوكيل (Agent)**: تعريف واجهة موحدة لجميع الوكلاء
2. **منسق الوكلاء (AgentCoordinator)**: مسؤول عن تنسيق عمل الوكلاء وتجميع نتائجهم
3. **نظام الوكلاء المتعددين (MultiAgentSystem)**: يدير مجموعة من الوكلاء المتخصصين ويوفر واجهة موحدة للتفاعل معهم
4. **الوكلاء المتخصصون**: مثل وكيل التحليل اللغوي، وكيل اكتشاف الأنماط، وكيل الاستدلال، وكيل البحث، ووكيل التكامل، ووكيل استخراج المسارات الموضوعية

### إضافة وكيل جديد

لإضافة وكيل متخصص جديد:

1. أنشئ فئة جديدة ترث من الفئة الأساسية `Agent`
2. نفذ طريقة `process` لتنفيذ المنطق الخاص بالوكيل
3. أضف اختبارات للوكيل الجديد
4. وثق الوكيل الجديد في الوثائق

مثال:

```python
class NewSpecializedAgent(Agent):
    def __init__(self, name: str = "new_specialized_agent"):
        super().__init__(name)
    
    def process(self, query: str, context: Dict[str, Any] = None) -> Dict[str, Any]:
        # تنفيذ منطق الوكيل المتخصص
        results = {
            # هيكل النتائج الخاص بالوكيل
        }
        return results
```

### تحسين آلية التنسيق

لتحسين آلية التنسيق بين الوكلاء:

1. قم بتعديل فئة `AgentCoordinator` لتحسين استراتيجيات التنفيذ
2. طور خوارزميات جديدة لحل التعارضات بين نتائج الوكلاء المختلفة
3. حسّن آليات تقييم الثقة في النتائج

### المساهمة في وكيل استخراج المسارات الموضوعية

وكيل استخراج المسارات الموضوعية (ThematicPathAgent) هو وكيل متخصص في تحليل ومقارنة آيات وسور القرآن لاستخراج الأطر الشاملة والمسارات المختلفة مثل المسار التربوي والسياسي والتعليمي والاجتماعي. يمكنك المساهمة في تطوير هذا الوكيل من خلال:

1. **تحسين خوارزميات التصنيف**: تطوير خوارزميات أكثر دقة لتصنيف الآيات حسب المسارات الموضوعية
2. **إضافة مسارات موضوعية جديدة**: توسيع قائمة المسارات الموضوعية وتحديد الكلمات المفتاحية المناسبة لها
3. **تحسين اكتشاف الأنماط**: تطوير خوارزميات أكثر تقدماً لاكتشاف الأنماط العددية والحرفية في القرآن
4. **تحسين تحليل العلاقات**: تطوير طرق أفضل لتحليل العلاقات بين السور والآيات
5. **إضافة تحليلات جديدة**: إضافة أنواع جديدة من التحليل مثل التحليل البلاغي أو التحليل الصوتي

مثال لإضافة مسار موضوعي جديد:

```python
# إضافة مسار موضوعي جديد في طريقة __init__
self.thematic_paths["scientific"] = {
    "name": "المسار العلمي",
    "keywords": ["سماء", "أرض", "نجوم", "شمس", "قمر", "جبال", "بحار", "نبات", "حيوان"],
    "verses": []
}
```

### تحسين وكيل التكامل

لتحسين وكيل التكامل:

1. طور طرق جديدة لدمج النتائج من الوكلاء المختلفة
2. حسّن خوارزميات استخراج الرؤى الرئيسية
3. طور آليات أفضل لحساب مستوى الثقة في التحليل المتكامل

## عملية المراجعة

ستتم مراجعة جميع طلبات السحب من قبل المشرفين على المشروع. قد نطلب تغييرات قبل دمج التغييرات في الفرع الرئيسي.

## الترخيص

بالمساهمة في هذا المشروع، فإنك توافق على ترخيص مساهمتك بموجب نفس ترخيص المشروع.

## الاتصال

إذا كانت لديك أسئلة أو استفسارات، يرجى التواصل مع فريق المشروع.

شكراً لمساهمتك في تطوير هذا المشروع!